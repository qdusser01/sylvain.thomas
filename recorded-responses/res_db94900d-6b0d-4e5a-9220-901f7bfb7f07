zk.load('zul.lang',function(){if(zk._p=zkpi('zk.fmt'))try{
(function(){function d(f,e){return f.substring(0,e)}function a(h,e){var f=1,l="";for(var g=e;f&&--g>=0;){var i=h.charAt(g);if(f==1){if(i>="0"&&i<"9"){i=i.$inc(1);f=0}else{if(i=="9"){i="0"}}}l=i+l}if(g>=0){l=h.substring(0,g)+l}return f?"1"+l:l}function b(i,g){var k,f,l="5";for(var h=g,e=i.length;h<e;++h){f=i.charAt(h)-l;if(h==g){l="0"}if(f!=0){return f}}return f}function c(g,e){for(var f=e;--f>=0;){var h=g.charAt(f);if(h>="0"&&h<="9"){return h}}return null}zk.fmt.Number={setScale:function(k,j,f){if(j===undefined||j<0){return k}var h=k.$toString(),i=h.indexOf("."),g=i>=0?h.length-i-1:0;if(g<=j){return k}else{var e=i+j+1;h=this.rounding(h,e,f,h<0);return new zk.BigDecimal(h)}},rounding:function(h,f,g,j){switch(g){case 0:h=a(h,f);break;case 1:h=d(h,f);break;case 2:h=j?d(h,f):a(h,f);break;case 3:h=!j?d(h,f):a(h,f);break;case 4:var i=b(h,f);h=i<0?d(h,f):a(h,f);break;case 5:var i=b(h,f);h=i>0?a(h,f):d(h,f);break;case 6:default:var i=b(h,f);if(i==0){var e=c(h,f);h=(e&1)?a(h,f):d(h,f)}else{h=i<0?d(h,f):a(h,f)}}return h},format:function(f,S,o){if(S==null){return""}if(!f){return""+S}var y;if(f.indexOf(";")!=-1){f=f.split(";");y=S<0;f=f[y?1:0]}var h=this._escapeQuote(f);f=h.fmt;var v=h.pureFmtStr,t=h.purejdot,l=t>=0?v.length-t-1:0,w=(S+"").replace(/[^0123456789.]/g,""),O=w.indexOf("."),r=O>=0?w.length-O-1:0,I=h.shift;if(I>0){if(O>=0){if(r>I){w=w.substring(0,O)+w.substring(O+1,O+1+I)+"."+w.substring(O+1+I);r-=I;O+=I}else{w=w.substring(0,O)+w.substring(O+1);for(var H=I-r;H-->0;){w=w+"0"}O=-1;r=0}}else{for(var H=I;H-->0;){w=w+"0"}}}if(r<=l){if(O==-1){w+="."}for(var H=l-r;H-->0;){w=w+"0"}}else{var z=O+l+1;w=this.rounding(w,z,o,S<0)}var R=h.jdot,C="",q="";O=w.indexOf(".");if(O==-1){O=w.length}if(R==-1){R=f.length}if(t==-1){t=v.length}var k=O-t;if(k>0){var Q="";for(var H=k;--H>=0;R++){Q+="#"}var s=this._extraFmtIndex(f);k+=s;f=f.substring(0,s)+Q+f.substring(s,f.length)}for(var H=t-O;--H>=0;O++){w="0"+w}var x=R-f.substring(0,R).lastIndexOf(",");for(var J=1,G=R-1,F=O-1;G>=0&&F>=0;){if(J%x==0&&C.charAt(0)!=","){C=zk.GROUPING+C;J++}var P=f.charAt(G);if(P=="#"||P=="0"){var A=w.charAt(F);C=(A=="0"?P:A)+C;G--;F--;J++}else{var N=f.charAt(G);if(N!=","){C=N+C;J++}G--}}if(F>=0){C=w.substr(0,F+1)+C}var H=(R<0?f.length:R)-(t<0?v.length:t),M=h.prej;if(H>0){var B=f.substring(M,k>0?k:H).replace(new RegExp("[#0.,]","g"),"");if(B){C=B+C}}for(var G=R+1,F=O+1,u=f.length,L=w.length;G<u;G++){var P=f.charAt(G);if(P=="#"||P=="0"){if(F<L){q+=w.charAt(F);F++}}else{q+=P=="%"?zk.PERCENT:P}}if(F<w.length){q=w.substr(F,w.length)}var K=-1;for(var E=q.length,D=f.length;E>0;--E){var A=q.charAt(E-1),P=f.charAt(--D);if(A=="0"&&P=="#"){if(K<0){K=E}}else{if(K>=0||/[1-9]/.test(A)){break}}}if(K>=0){q=q.substring(0,E)+q.substring(K)}if(C){C=f.substring(0,M)+this._removePrefixSharps(C)}if(!C&&f.charAt(R+1)=="#"){C="0"}return(S<0&&!y?zk.MINUS:"")+(q?C+(/[\d]/.test(q.charAt(0))?zk.DECIMAL:"")+q:C)},_escapeQuote:function(h){var k,e=-2,g=0,o="",m=-1,r=-1,f="",p=-1,i=h?!new RegExp("('["+zk.PERCENT+"|"+zk.PER_MILL+"]+')","g").test(h):true;for(var l=0,n=h.length;l<n;++l){k=h.charAt(l);if(k=="%"&&i){g+=2}else{if(k==zk.PER_MILL&&i){g+=3}}if(k=="'"){if(e>=0){o+=e==(l-1)?"'":h.substring(e+1,l);e=-2}else{e=l}}else{if(e<0){if(p<0&&(k=="#"||k=="0"||k=="."||k=="-"||k==","||k=="E")){p=o.length}if(k=="#"||k=="0"){f+=k}else{if(k=="."){if(r<0){r=f.length}if(m<0){m=o.length}f+=k}}o+=k}}}return{shift:g,fmt:o,pureFmtStr:f,jdot:m,purejdot:r,prej:p}},_extraFmtIndex:function(f){var g=0;for(var e=f.length;g<e;++g){var h=f.charAt(g);if(h=="#"||h=="0"||h==","){break}}return g},_removePrefixSharps:function(i){var g="",h=true;for(var e=i.length,f=0;f<e;++f){var k=i.charAt(f);if(h){if(k=="#"||k==zk.GROUPING){continue}else{if(/[\d]/.test(k)){h=false}}}g=g+(k=="#"?"0":k)}return g},unformat:function(f,y,x){if(!y){return{raw:y,divscale:0}}var g=0,h,e,q,w,s=x?"-":zk.MINUS,o=x?".":zk.DECIMAL,l=x?"%":zk.PERCENT,m=String.fromCharCode(8240),p=x?m:zk.PER_MILL,n=x?",":zk.GROUPING,i=!new RegExp("('[%|"+m+"]+')","g").test(f);for(var u=0,v=y.length;u<v;++u){q=y.charAt(u);w=true;if(q==l&&i){g+=2}else{if(q==p&&i){g+=3}else{if(q=="("){h=true}else{if(q!="+"){w=false}}}}if(!w){w=(q<"0"||q>"9")&&q!=o&&q!=s&&q!="+"&&(zUtl.isChar(q,{whitespace:1})||q==n||q==")"||(f&&f.indexOf(q)>=0))}if(w){if(e==null){e=y.substring(0,u)}}else{var r=q==s?"-":q==o?".":q;if(q!=r&&e==null){e=y.substring(0,u)}if(e!=null){e+=r}}}if(e==null){e=y}if(h){e="-"+e}for(;;){q=e.charAt(0);if(q=="+"){e=e.substring(1)}else{if(q=="-"&&e.charAt(1)=="-"){e=e.substring(2)}else{break}}}for(var u=0,t,v=e.length;u<v;++u){q=e.charAt(u);if(q>"0"&&q<="9"){if(t!==undefined){e=e.substring(0,t)+e.substring(u)}break}else{if(q=="0"){if(t===undefined){t=u}}else{if(t!==undefined){if(q==o&&u>++t){e=e.substring(0,t)+e.substring(u)}break}else{if(q==o){break}}}}}return{raw:e,divscale:g}}}})();
zk.fmt.Text={format:function(e){var d=0,g="";for(var c=0,a=e.length,f,b;c<a;++c){f=e.charAt(c);if(f=="\\"){if(++c>=a){break}g+=e.substring(d,c);f=e.charAt(c);switch(f){case"n":f="\n";break;case"t":f="\t";break;case"r":f="\r";break}g+=f;d=c+1}else{if(f=="{"){b=e.indexOf("}",c+1);if(b<0){break}g+=e.substring(d,c)+arguments[zk.parseInt(e.substring(c+1,b))+1];d=c=b+1}}}if(g){g+=e.substring(d)}return g||e}};

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zk.fmt',1);