zk.load('zul.wgt',function(){if(zk._p=zkpi('zul.menu'))try{
(function(){function a(b){if(!b._noFloatUp&&!b._bOver&&zul.menu._nOpen){zWatch.fire("onFloatUp",b)}}zul.menu.Renderer={renderSpinnerButton:function(b,c){}};zul.menu.Menubar=zk.$extends(zul.Widget,{_orient:"horizontal",$define:{orient:function(){this.rerender()},scrollable:function(b){if(this.checkScrollable()){this.rerender()}},autodrop:null},setWidth:function(){this.$supers("setWidth",arguments);this._checkScrolling()},getZclass:function(){return this._zclass==null?"z-menubar"+("vertical"==this.getOrient()?"-ver":"-hor"):this._zclass},unbind_:function(){if(this.checkScrollable()){var c=this.$n("left"),b=this.$n("right");if(c&&b){this.domUnlisten_(c,"onClick","_doScroll").domUnlisten_(c,"onMouseover","_onOver").domUnlisten_(c,"onMouseout","_onOut").domUnlisten_(b,"onClick","_doScroll").domUnlisten_(b,"onMouseover","_onOver").domUnlisten_(b,"onMouseout","_onOut")}zWatch.unlisten({onSize:this,onShow:this})}this._lastTarget=null;this.$supers(zul.menu.Menubar,"unbind_",arguments)},bind_:function(){this.$supers(zul.menu.Menubar,"bind_",arguments);if(this.checkScrollable()){var c=this.$n("left"),b=this.$n("right");if(c&&b){this.domListen_(c,"onClick","_doScroll").domListen_(c,"onMouseover","_onOver").domListen_(c,"onMouseout","_onOut").domListen_(b,"onClick","_doScroll").domListen_(b,"onMouseover","_onOver").domListen_(b,"onMouseout","_onOut")}zWatch.listen({onSize:this,onShow:this})}this._syncChdWidth()},checkScrollable:function(){return this._scrollable&&("horizontal"==this.getOrient())},onSize:_zkf=function(){this._checkScrolling()},onShow:_zkf,onChildAdded_:function(b){this.$supers("onChildAdded_",arguments);this._checkScrolling();this._syncChdWidth()},onChildRemoved_:function(b){this.$supers("onChildRemoved_",arguments);if(!this.childReplacing_){this._checkScrolling()}this._syncChdWidth()},_checkScrolling:function(){if(!this.checkScrollable()){return}var f=this.$n();if(!f){return}jq(f).addClass(this.getZclass()+"-scroll");if(zk.ie6_){this._doFixWidth(f)}var c=zk(f).offsetWidth(),b=this.$n("body"),g=jq(this.$n("cave")).children();totalWidth=0;for(var d=g.length;d--;){totalWidth+=g[d].offsetWidth}var e=c-zk(this.$n("left")).offsetWidth()-zk(this.$n("right")).offsetWidth();if(this._scrolling){if(totalWidth<=c){this._scrolling=false;b.scrollLeft=0;if(zk.ie7_){zk(b).redoCSS()}}else{b.style.width=jq.px0(e);this._fixScrollPos(f)}this._fixButtonPos(f)}else{if(totalWidth>c){this._scrolling=true;this._fixButtonPos(f);b.style.width=jq.px0(e)}}},_syncChdWidth:function(){},_fixScrollPos:function(){var b=this.$n("body"),d=jq(this.$n("cave")).children();if(d[d.length-1].offsetLeft<b.scrollLeft){var c=d[d.length-1].offsetLeft;b.scrollLeft=c}},_fixButtonPos:function(e){var g=this.getZclass(),b=this.$n("body"),f=this.$n("left"),d=this.$n("right"),c=this._scrolling?"addClass":"removeClass";jq(e)[c](g+"-scroll");jq(b)[c](g+"-body-scroll");jq(f)[c](g+"-left-scroll");jq(d)[c](g+"-right-scroll")},_doFixWidth:function(){var c=this.$n(),b=c.style.width;if(zk.ie6_&&(!b||"auto"==b)){this._forceStyle(c,"100%")}},_forceStyle:function(b,c){if(zk.parseInt(c)<0){return}b.style.width=zk.ie6_?"0px":"";b.style.width=c},doMouseOver_:function(b){this._bOver=true;this._noFloatUp=false;this.$supers("doMouseOver_",arguments)},doMouseOut_:function(b){this._bOver=false;this._closeOnOut();this.$supers("doMouseOut_",arguments)},_onOver:function(c){this._bOver=true;if(!this.checkScrollable()){return}var b=c.domTarget,e=this.$n(),f=this.$n("left"),d=this.$n("right"),g=this.getZclass();if(f==b){jq(f).addClass(g+"-left-scroll-over")}else{if(d==b){jq(d).addClass(g+"-right-scroll-over")}}},_onOut:function(c){this._bOver=false;if(!this.checkScrollable()){return}var b=c.domTarget,e=this.$n(),f=this.$n("left"),d=this.$n("right"),g=this.getZclass();if(f==b){jq(f).removeClass(g+"-left-scroll-over")}else{if(d==b){jq(d).removeClass(g+"-right-scroll-over")}}},_doScroll:function(b){var c=b.domTarget;this._scroll(c.id.endsWith("left")?"left":"right")},_scroll:function(e){if(!this.checkScrollable()||this._runId){return}var c=this;body=this.$n("body"),currScrollLeft=body.scrollLeft,childs=jq(this.$n("cave")).children(),childLen=childs.length,movePos=0;if(!childLen){return}switch(e){case"left":for(var d=0;d<childLen;d++){if(childs[d].offsetLeft>=currScrollLeft){var g=childs[d].previousSibling;if(!g){return}movePos=currScrollLeft-(currScrollLeft-g.offsetLeft);if(isNaN(movePos)){return}c._runId=setInterval(function(){if(!c._moveTo(body,movePos)){clearInterval(c._runId);c._runId=null}},10);return}}break;case"right":var f=currScrollLeft+body.offsetWidth;for(var d=0;d<childLen;d++){var b=childs[d].offsetLeft+childs[d].offsetWidth;if(b>f){movePos=currScrollLeft+(b-f);if(isNaN(movePos)){return}c._runId=setInterval(function(){if(!c._moveTo(body,movePos)){clearInterval(c._runId);c._runId=null}},10);return}}break}},_moveTo:function(b,d){var f=b.scrollLeft,e=5;if(f==d){return false}if(f>d){var c=f-e;b.scrollLeft=c<d?d:c;return true}else{var c=f+e;b.scrollLeft=c>d?d:c;return true}return false},insertChildHTML_:function(d,b,c){if(b){jq(b.$n("chdextr")||b.$n()).before(this.encloseChildHTML_({child:d,vertical:"vertical"==this.getOrient()}))}else{jq(this.$n("cave")).append(this.encloseChildHTML_({child:d,vertical:"vertical"==this.getOrient()}))}d.bind(c)},removeChildHTML_:function(b){this.$supers("removeChildHTML_",arguments);jq(b.uuid+"-chdextr",zk).remove()},encloseChildHTML_:function(d){var c=d.out||[],e=d.child,b=d.vertical;if(b){c.push('<tr id="',e.uuid,'-chdextr"');if(e.getHeight()){c.push(' height="',e.getHeight(),'"')}c.push(">")}e.redraw(c);if(b){c.push("</tr>")}if(!d.out){return c.join("")}},_closeOnOut:function(){var b=this;if(b._autodrop&&!zul.Widget.getOpenTooltip()){setTimeout(function(){a(b)},200)}}})})();
zkreg('zul.menu.Menubar');zk._m={};
zk._m['default']=function(b){var c=this.uuid;if("vertical"==this.getOrient()){b.push("<div",this.domAttrs_(),'><table id="',c,'-cave"',zUtl.cellps0,">");for(var a=this.firstChild;a;a=a.nextSibling){this.encloseChildHTML_({out:b,child:a,vertical:true})}b.push("</table></div>")}else{var d=this.getZclass();b.push("<div",this.domAttrs_(),">");if(this.checkScrollable()){b.push('<div id="',c,'-left" class="',d,'-left"></div>','<div id="',c,'-right" class="',d,'-right"></div>','<div id="',c,'-body" class="',d,'-body">','<div id="',c,'-cnt" class="',d,'-cnt">')}b.push("<table",zUtl.cellps0,">",'<tr valign="bottom" id="',c,'-cave">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr></table>");if(this.scrollable){b.push("</div></div>")}b.push("</div>")}};
;zkmld(zk._p.p.Menubar,zk._m);zul.menu.Menu=zk.$extends(zul.LabelImageWidget,{$define:{content:function(b){if(!b||b.length==0){return}if(!this._contentHandler){if(zk.feature.pe){var a=this;zk.load("zkex.inp",null,function(){a._contentHandler=new zkex.inp.ContentHandler(a,b)});return}this._contentHandler=new zul.menu.ContentHandler(this,b)}else{this._contentHandler.setContent(b)}},image:function(){this.rerender()}},domContent_:function(){var b=zUtl.encodeXML(this.getLabel()),a=['<span id="',this.uuid,'-img" class="',this.getZclass(),'-img"'];a.push(this._image?' style="background-image:url('+this._image+')"':"","></span>",b?" "+b:"");return a.join("")},isTopmost:function(){return this._topmost},beforeParentChanged_:function(a){this._topmost=a&&!(a.$instanceof(zul.menu.Menupopup));this.$supers("beforeParentChanged_",arguments)},getZclass:function(){return this._zclass==null?"z-menu":this._zclass},domStyle_:function(b){var a=this.$supers("domStyle_",arguments);return this.isTopmost()?a+"padding-left:4px;padding-right:4px;":a},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.menu.Menupopup)){this.menupopup=a;if(this._contentHandler){this._contentHandler.destroy()}}},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.menupopup){this.menupopup=null;if(this._contentHandler){this._contentHandler.setContent(this._content)}}},getMenubar:function(){for(var a=this.parent;a;a=a.parent){if(a.$instanceof(zul.menu.Menubar)){return a}}return null},onShow:function(){if(this._contentHandler){this._contentHandler.onShow()}},onFloatUp:function(a){if(this._contentHandler){this._contentHandler.onFloatUp(a)}},onHide:function(){if(this._contentHandler){this._contentHandler.onHide()}},bind_:function(){this.$supers(zul.menu.Menu,"bind_",arguments);var b=this.$n("a"),a=this._contentType;if(!this.isTopmost()){var c=this.$n();this.domListen_(b,"onFocus","doFocus_").domListen_(b,"onBlur","doBlur_").domListen_(c,"onMouseOver").domListen_(c,"onMouseOut")}else{this.domListen_(b,"onMouseOver").domListen_(b,"onMouseOut")}if(this._contentHandler){this._contentHandler.bind()}},unbind_:function(){if(!this.isTopmost()){var a=this.$n("a"),b=this.$n();this.domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onBlur","doBlur_").domUnlisten_(b,"onMouseOver").domUnlisten_(b,"onMouseOut")}else{var a=this.$n("a");this.domUnlisten_(a,"onMouseOver").domUnlisten_(a,"onMouseOut")}if(this._contentHandler){this._contentHandler.unbind()}this.$supers(zul.menu.Menu,"unbind_",arguments)},doClick_:function(h){var c=this.$n();if(this.menupopup){jq(this.$n("a")).addClass(this.getZclass()+"-body-seld");this.menupopup._shallClose=false;if(this.isTopmost()){this.getMenubar()._lastTarget=this}if(this.isListen("onClick")){var i=12,d=jq(c).find("TABLE"),f=zk(d).offsetWidth(),a=f-i,g=zk(d).revisedOffset(),b=h.domEvent.clientX-g[0];if(b>a){this._togglePopup();h.stop()}else{jq(this.$n("a")).removeClass(this.getZclass()+"-body-seld");this.fireX(h)}}else{this._togglePopup()}}else{var e=this._contentHandler;if(e&&!e.isOpen()){e.onShow()}}},doMouseOver_:function(){this.$supers("doMouseOver_",arguments);if(this.isTopmost()){return}var a=this._contentHandler;if(a&&!a.isOpen()){a.onShow()}},_togglePopup:function(){if(!this.menupopup.isOpen()){this.menupopup.open()}else{if(this.isTopmost()){this.menupopup.close()}else{zk(this.menupopup.$n("a")).focus()}}},_doMouseOver:function(a){var c=this.getMenubar();if(c){c._bOver=true;c._noFloatUp=false}if(this.$class._isActive(this)){return}var b=this.isTopmost();if(b&&zk.ie&&!jq.isAncestor(this.$n("a"),a.domTarget)){return}if(this.menupopup){this.menupopup._shallClose=false}if(!b){zWatch.fire("onFloatUp",this);if(this.menupopup&&!this.menupopup.isOpen()){this.menupopup.open()}}else{if(this.menupopup&&c._autodrop){c._lastTarget=this;zWatch.fire("onFloatUp",this);if(!this.menupopup.isOpen()){this.menupopup.open()}}else{var d=c._lastTarget;if(d&&d!=this&&c._lastTarget.menupopup&&c._lastTarget.menupopup.isVisible()){c._lastTarget.menupopup.close({sendOnOpen:true});this.$class._rmActive(c._lastTarget);c._lastTarget=this;if(this.menupopup){this.menupopup.open()}}}}this.$class._addActive(this)},_doMouseOut:function(a){var c=this.getMenubar();if(c){c._bOver=false}if(!zk.ie&&jq.isAncestor(this.$n("a"),a.domEvent.relatedTarget||a.domEvent.toElement)){return}var b=this.isTopmost(),d=this.menupopup;if(b){this.$class._rmOver(this);if(d&&c._autodrop){if(d.isOpen()){d._shallClose=true}c._closeOnOut()}}else{if(!d||!d.isOpen()){this.$class._rmActive(this)}else{if(d&&c&&c._autodrop){c._closeOnOut()}}}}},{_isActive:function(d){var c=d.isTopmost(),e=c?d.$n("a"):d.$n(),b=d.menupopup,a=d.getZclass();a+=c?b&&b.isOpen()?"-body-seld":"-body-over":"-over";return jq(e).hasClass(a)},_addActive:function(d){var c=d.isTopmost(),e=c?d.$n("a"):d.$n(),b=d.menupopup,a=d.getZclass();a+=c?b&&b.isOpen()?"-body-seld":"-body-over":"-over";jq(e).addClass(a);if(!c&&d.parent.parent.$instanceof(zul.menu.Menu)){this._addActive(d.parent.parent)}},_rmActive:function(c){var b=c.isTopmost(),d=b?c.$n("a"):c.$n(),a=c.getZclass();a+=b?c.menupopup.isOpen()?"-body-seld":"-body-over":"-over";jq(d).removeClass(a)},_rmOver:function(c){var b=c.isTopmost(),d=b?c.$n("a"):c.$n(),a=c.getZclass()+(b?"-body-over":"-over");jq(d).removeClass(a)}});zul.menu.ContentHandler=zk.$extends(zk.Object,{$init:function(b,a){this._wgt=b;this._content=a},setContent:function(a){if(this._content!=a||!this._pp){this._content=a;this._wgt.rerender()}},redraw:function(a){var c=this._wgt,b=c.getZclass();a.push('<div id="',c.uuid,'-cnt-pp" class="',b,'-cnt-pp" style="display:none"><div class="',b,'-cnt-body">',this._content,"</div></div>")},bind:function(){var a=this._wgt;if(!a.menupopup){a.domListen_(a.$n(),"onClick","onShow");zWatch.listen({onFloatUp:a,onHide:a})}this._pp=jq("#"+a.uuid+"-cnt-pp")[0]},unbind:function(){var a=this._wgt;if(!a.menupopup){if(this._shadow){this._shadow.destroy();this._shadow=null}a.domUnlisten_(a.$n(),"onClick","onShow");zWatch.unlisten({onFloatUp:a,onHide:a})}this._pp=null},isOpen:function(){var a=this._pp;return(a&&zk(a).isVisible())},onShow:function(){var b=this._wgt,a=this._pp;if(!a){return}a.style.width=a.style.height="auto";a.style.position="absolute";a.style.overflow="auto";a.style.display="block";a.style.zIndex="88000";jq(a).zk.makeVParent();zk(a).position(b.$n(),this.getPosition());this.syncShadow()},onHide:function(){var a=this._pp;if(!a||!zk(a).isVisible()){return}a.style.display="none";jq(a).zk.undoVParent();this.hideShadow()},onFloatUp:function(a){if(!zUtl.isAncestor(this._wgt,a.origin)){this.onHide()}},syncShadow:function(){if(!this._shadow){this._shadow=new zk.eff.Shadow(this._wgt.$n("cnt-pp"),{stackup:(zk.useStackup===undefined?zk.ie6_:zk.useStackup)})}this._shadow.sync()},hideShadow:function(){this._shadow.hide()},destroy:function(){this._wgt.rerender()},getPosition:function(){var b=this._wgt;if(b.isTopmost()){var a=b.getMenubar();if(a){return"vertical"==a.getOrient()?"end_before":"after_start"}}return"end_before"},deferRedrawHTML_:function(b){var a=this.isTopmost()?"td":"li";b.push("<",a,this.domAttrs_({domClass:1}),' class="z-renderdefer"></',a,">")}});
zkreg('zul.menu.Menu');zk._m={};
zk._m['default']=function(a){var c=this.uuid,e=this.getZclass(),b=zk.ie&&!zk.ie8?"input":"button",d=this._contentHandler;if(this.isTopmost()){a.push('<td align="left"',this.domAttrs_(),'><table id="',c,'-a"',zUtl.cellps0,' class="',e,"-body");if(this.getImage()){a.push(" ",e,"-body");if(this.getLabel()){a.push("-text")}a.push("-img")}a.push('" style="width: auto;"><tbody><tr><td class="',e,'-inner-l"><span class="',e,'-space"></span></td><td class="',e,'-inner-m"><div><',b,' id="',c,'-b" type="button" class="',e,'-btn"');if(this.getImage()){a.push(' style="background-image:url(',this.getImage(),')"')}a.push(">",zUtl.encodeXML(this.getLabel()),"&nbsp;</",b,">");if(this.menupopup){this.menupopup.redraw(a)}else{if(d){d.redraw(a)}}a.push('</div></td><td class="',e,'-inner-r"><span class="',e,'-space"></span></td></tr></tbody></table></td>')}else{a.push("<li",this.domAttrs_(),'><div class="',e,'-cl"><div class="',e,'-cr"><div class="',e,'-cm">');a.push('<a href="javascript:;" id="',c,'-a" class="',e,"-cnt ",e,'-cnt-img">',this.domContent_(),"</a></div></div></div>");if(this.menupopup){this.menupopup.redraw(a)}else{if(d){d.redraw(a)}}a.push("</li>")}};
;zkmld(zk._p.p.Menu,zk._m);zul.menu.Menuitem=zk.$extends(zul.LabelImageWidget,{_value:"",$define:{checkmark:_zkf=function(){this.rerender()},disabled:_zkf,href:_zkf,value:null,checked:function(b){if(b){this._checkmark=b}var d=this.$n("a");if(d&&!this.isTopmost()&&!this.getImage()){var c=this.getZclass(),a=jq(d);a.removeClass(c+"-cnt-ck").removeClass(c+"-cnt-unck");if(this._checkmark){a.addClass(c+(b?"-cnt-ck":"-cnt-unck"))}}},autocheck:null,target:function(b){var a=this.$n("a");if(a){if(this.isTopmost()){a=a.parentNode}a.target=this._target}},upload:function(a){var b=this.$n();if(b){this._cleanUpld();if(a&&a!="false"){this._initUpld()}}}},isTopmost:function(){return this._topmost},beforeParentChanged_:function(a){this._topmost=a&&!(a.$instanceof(zul.menu.Menupopup));this.$supers("beforeParentChanged_",arguments)},domClass_:function(c){var b=this.$supers("domClass_",arguments);if(!c||!c.zclass){var a=this.isDisabled()?this.getZclass()+"-disd":"";if(a){b+=(b?" ":"")+a}}return b},getZclass:function(){return this._zclass==null?"z-menu-item":this._zclass},domContent_:function(){var b=zUtl.encodeXML(this.getLabel()),a='<span class="'+this.getZclass()+'-img"'+(this._image?' style="background-image:url('+this._image+')"':"")+"></span>";return b?a+" "+b:a},domStyle_:function(b){var a=this.$supers("domStyle_",arguments);return this.isTopmost()?a+"padding-left:4px;padding-right:4px;":a},getMenubar:zul.menu.Menu.prototype.getMenubar,bind_:function(){this.$supers(zul.menu.Menuitem,"bind_",arguments);if(!this.isDisabled()){if(this.isTopmost()){var a=this.$n("a");this.domListen_(a,"onFocus","doFocus_").domListen_(a,"onBlur","doBlur_")}if(this._upload){this._initUpld()}}},unbind_:function(){if(!this.isDisabled()){if(this._upload){this._cleanUpld()}if(this.isTopmost()){var a=this.$n("a");this.domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onBlur","doBlur_")}}this.$supers(zul.menu.Menuitem,"unbind_",arguments)},_initUpld:function(){zWatch.listen(zk.ie7_?{onShow:this,onSize:this}:{onShow:this});var a;if(a=this._upload){this._uplder=new zul.Upload(this,this.isTopmost()?this.$n():this.$n("a"),a)}},_cleanUpld:function(){var a;if(a=this._uplder){zWatch.unlisten(zk.ie7_?{onShow:this,onSize:this}:{onShow:this});this._uplder=null;a.destroy()}},onShow:_zkf=function(){if(this._uplder){this._uplder.sync()}},onSize:zk.ie7_?_zkf:zk.$void,doClick_:function(a){if(this._disabled){a.stop()}else{if(!this._canActivate(a)){return}var b=this.isTopmost(),d=this.$n("a");if(b){jq(d).removeClass(this.getZclass()+"-body-over");d=d.parentNode}if(d.href.startsWith("javascript:")){if(this.isAutocheck()){this.setChecked(!this.isChecked());this.fire("onCheck",this.isChecked())}this.fireX(a)}else{if(zk.ie&&b&&this.$n().id!=d.id){zUtl.go(d.href,{target:d.target})}if(zk.gecko3&&b&&this.$n().id!=d.id){zUtl.go(d.href,{target:d.target});a.stop()}}if(!b){for(var e=this.parent;e;e=e.parent){if(e.$instanceof(zul.menu.Menupopup)){if(!e.isOpen()||this._uplder){break}e.close({sendOnOpen:true})}else{if(!e.$instanceof(zul.menu.Menu)){break}}}}var c;if(zk.safari&&(c=this.getMenubar())&&c._autodrop){c._noFloatUp=true}this.$class._rmActive(this);this.$super("doClick_",a,true)}},_canActivate:function(a){return !this.isDisabled()&&(!zk.ie||!this.isTopmost()||this._uplder||jq.isAncestor(this.$n("a"),a.domTarget))},doMouseOver_:function(a){var b=this.getMenubar();if(b){b._bOver=true;b._noFloatUp=false}if(!this.$class._isActive(this)&&this._canActivate(a)){this.$class._addActive(this);if(zul.menu._nOpen||!this.isTopmost()){zWatch.fire("onFloatUp",this)}}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(c){var d=this.getMenubar();if(d){d._bOver=false;d._closeOnOut()}if(!this.isDisabled()){var b=!zk.ie;if(!b){var h=this.$n("a"),f=zk(h).revisedOffset(),a=c.pageX,g=c.pageY,e=this.isTopmost()?1:0;b=a-e<=f[0]||a>f[0]+h.offsetWidth||g-e<=f[1]||g>f[1]+h.offsetHeight+(zk.ie?-1:0)}if(b){this.$class._rmActive(this)}}this.$supers("doMouseOut_",arguments)},deferRedrawHTML_:function(b){var a=this.isTopmost()?"td":"li";b.push("<",a,this.domAttrs_({domClass:1}),' class="z-renderdefer"></',a,">")}},{_isActive:function(c){var b=c.isTopmost(),d=b?c.$n("a"):c.$n(),a=c.getZclass()+(b?"-body-over":"-over");return jq(d).hasClass(a)},_addActive:function(c){var b=c.isTopmost(),d=b?c.$n("a"):c.$n(),a=c.getZclass()+(b?"-body-over":"-over");jq(d).addClass(a);if(!b&&c.parent.parent.$instanceof(zul.menu.Menu)){this._addActive(c.parent.parent)}},_rmActive:function(c){var b=c.isTopmost(),d=b?c.$n("a"):c.$n(),a=c.getZclass()+(b?"-body-over":"-over");jq(d).removeClass(a)}});
zkreg('zul.menu.Menuitem');zk._m={};
zk._m['default']=function(c){var f=this.uuid,h=this.getZclass(),e=zk.ie&&!zk.ie8?"input":"button",g=this.getTarget(),b=this.getImage();if(this.isTopmost()){c.push('<td align="left"',this.domAttrs_(),'><a href="',this.getHref()?this.getHref():"javascript:;",'"');if(g){c.push(' target="',g,'"')}c.push(' class="',h,'-cnt"><table id="',f,'-a"',zUtl.cellps0,' class="',h,"-body");if(b){c.push(" ",h,"-body");if(this.getLabel()){c.push("-text")}c.push("-img")}c.push('" style="width: auto;"><tbody><tr><td class="',h,'-inner-l"><span class="',h,'-space"></span></td><td class="',h,'-inner-m"><div><',e,' id="',f,'-b" type="button" class="',h,'-btn"');if(b){c.push(' style="background-image:url(',b,')"')}c.push(">",zUtl.encodeXML(this.getLabel()),"&nbsp;</",e,'></div></td><td class="',h,'-inner-r"><span class="',h,'-space"></span></td></tr></tbody></table></a></td>')}else{c.push("<li",this.domAttrs_(),'><div class="',h,'-cl"><div class="',h,'-cr"><div class="',h,'-cm">');var a=h+"-cnt"+(!b&&this.isCheckmark()?" "+h+(this.isChecked()?"-cnt-ck":"-cnt-unck"):""),d=this.getMold();c.push('<a href="',this.getHref()?this.getHref():"javascript:;",'"');if(g){c.push(' target="',g,'"')}c.push(' id="',f,'-a" class="',a,'">',this.domContent_(),"</a></div></div></div></li>")}};
;zkmld(zk._p.p.Menuitem,zk._m);zul.menu.Menuseparator=zk.$extends(zul.Widget,{isPopup:function(){return this.parent&&this.parent.$instanceof(zul.menu.Menupopup)},getMenubar:function(){for(var a=this.parent;a;a=a.parent){if(a.$instanceof(zul.menu.Menubar)){return a}}return null},getZclass:function(){return this._zclass==null?"z-menu-separator":this._zclass},doMouseOver_:function(){if(zul.menu._nOpen){zWatch.fire("onFloatUp",this)}this.$supers("doMouseOver_",arguments)}});
zkreg('zul.menu.Menuseparator');zk._m={};
zk._m['default']=function(a){var b=this.isPopup()?"li":"td";a.push("<",b,this.domAttrs_(),'><span class="',this.getZclass(),'-inner">&nbsp;</span></',b,">")};
;zkmld(zk._p.p.Menuseparator,zk._m);(function(){function a(c){var b=c.parent;return b.$instanceof(zul.menu.Menu)?b:null}zul.menu.Menupopup=zk.$extends(zul.wgt.Popup,{_curIndex:-1,_getCurrentIndex:function(){return this._curIndex},getZclass:function(){return this._zclass==null?"z-menu-popup":this._zclass},_isActiveItem:function(b){return b.isVisible()&&(b.$instanceof(zul.menu.Menu)||(b.$instanceof(zul.menu.Menuitem)&&!b.isDisabled()))},_currentChild:function(d){var d=d!=null?d:this._curIndex;for(var b=this.firstChild,c=-1;b;b=b.nextSibling){if(this._isActiveItem(b)&&++c===d){return b}}return null},_previousChild:function(c){c=c?c.previousSibling:this.lastChild;var b=this.lastChild==c;for(;c;c=c.previousSibling){if(this._isActiveItem(c)){this._curIndex--;return c}}if(b){return null}this.curIndex=0;for(c=this.firstChild;c;c=c.nextSibling){if(this._isActiveItem(c)){this._curIndex++}}return this._previousChild()},_nextChild:function(c){c=c?c.nextSibling:this.firstChild;var b=this.firstChild==c;for(;c;c=c.nextSibling){if(this._isActiveItem(c)){this._curIndex++;return c}}if(b){return null}this._curIndex=-1;return this._nextChild()},zsync:function(){this.$supers("zsync",arguments);if(!this._shadow){this._shadow=new zk.eff.Shadow(this.$n())}this._shadow.sync()},_hideShadow:function(){if(this._shadow){this._shadow.hide()}},close:function(){if(this.isOpen()){zul.menu._nOpen--}this.$supers("close",arguments);jq(this.$n()).hide();this._hideShadow();var c;if((c=a(this))&&c.isTopmost()){jq(c.$n("a")).removeClass(c.getZclass()+"-body-seld")}var b=this._currentChild();if(b){b.$class._rmActive(b)}this._curIndex=-1;this.$class._rmActive(this)},open:function(d,f,b,c){if(!this.isOpen()){zul.menu._nOpen++}var e;if(e=a(this)){if(!f){d=e.$n("a");if(!b){if(e.isTopmost()){b=e.parent.getOrient()=="vertical"?"end_before":"after_start"}else{b="end_before"}}}}this.$super("open",d,f,b,c||{sendOnOpen:true,disableMask:true});if(e){var g;if(g=this.$n()){g.style.top=jq.px0(zk.parseInt(g.style.top)+zk.parseInt(jq(this.getMenubar()).css("paddingBottom")))}}},shallStackup_:function(){return false},setTopmost:function(){this.$supers("setTopmost",arguments);this.zsync()},onFloatUp:function(b){if(!this.isVisible()){return}var e=b.origin;if(this.parent.menupopup==this&&!this.parent.isTopmost()&&!this.parent.$class._isActive(this.parent)){this.close({sendOnOpen:true});return}for(var d,c=e;c;c=c.parent){if(c==this||(c.menupopup==this&&!this._shallClose)){if(!d){this.setTopmost()}return}d=d||c.isFloating_()}if(e&&e.$instanceof(zul.menu.Menu)){for(var d,c=this;c=c.parent;){if(c==e){if(this._shallClose){break}if(!d){this.setTopmost()}return}d=d||c.isFloating_()}}this.close({sendOnOpen:true})},onShow:function(){if(zk.ie7_){var b=this.$n();if(!b.style.width){var c=this.$n("cave");if(c.childNodes.length){b.style.width=c.offsetWidth+zk(b).padBorderWidth()+"px"}}}this.zsync();var d=this.$n("a");if(d){if(zk(d).isRealVisible()){d.focus();zk.currentFocus=this}}},onHide:function(){if(this.isOpen()){this.close()}this._hideShadow()},bind_:function(){this.$supers(zul.menu.Menupopup,"bind_",arguments);zWatch.listen({onHide:this,onResponse:this});if(!zk.css3){jq.onzsync(this)}},unbind_:function(){if(this.isOpen()){this.close()}if(this._shadow){this._shadow.destroy()}if(!zk.css3){jq.unzsync(this)}this._shadow=null;zWatch.unlisten({onHide:this,onResponse:this});this.$supers(zul.menu.Menupopup,"unbind_",arguments)},onResponse:function(){if(!this.isOpen()){return}if(zk.ie7_){var b=this.$n();b.style.width="";var c=this.$n("cave");if(c.childNodes.length){b.style.width=c.offsetWidth+zk(b).padBorderWidth()+"px"}}this.zsync();this.$supers("onResponse",arguments)},doKeyDown_:function(d){var c=this._currentChild(),g,f=d.keyCode;switch(f){case 38:case 40:if(c){c.$class._rmActive(c)}c=f==38?this._previousChild(c):this._nextChild(c);if(c){c.$class._addActive(c)}break;case 37:this.close();if(((g=a(this)))&&!g.isTopmost()){var b=g.parent;if(b){var e=b.$n("a");if(e){e.focus()}}}break;case 39:if(c&&c.$instanceof(zul.menu.Menu)&&c.menupopup){c.menupopup.open()}break;case 13:if(c&&c.$instanceof(zul.menu.Menuitem)){c.doClick_(new zk.Event(c,"onClick",{}));zWatch.fire("onFloatUp",c);this.close({sendOnOpen:true})}break}d.stop();this.$supers("doKeyDown_",arguments)},getMenubar:zul.menu.Menu.prototype.getMenubar,doMouseOver_:function(b){var c=this.getMenubar();if(c){c._bOver=true}this._shallClose=false;this.$supers("doMouseOver_",arguments)},doMouseOut_:function(b){var c=this.getMenubar();if(c){c._bOver=false}this.$supers("doMouseOut_",arguments)}},{_rmActive:function(b){if(b.parent.$instanceof(zul.menu.Menu)){b.parent.$class._rmActive(b.parent)}}});zul.menu._nOpen=0})();
zkreg('zul.menu.Menupopup');zk._m={};
zk._m['default']=function(c){var d=this.uuid,e=this.getZclass(),b=zk.ie||zk.gecko?"a":"button";c.push("<div",this.domAttrs_(),"><",b,' id="',d,'-a" tabindex="-1" onclick="return false;" href="javascript:;"',' class="z-focus-a"></',b,'><ul class="',e,'-cnt" id="',d,'-cave">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(c)}c.push("</ul></div>")};
;zkmld(zk._p.p.Menupopup,zk._m);
}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.menu',1);